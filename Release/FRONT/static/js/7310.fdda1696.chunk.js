"use strict";(self.webpackChunkot_tas=self.webpackChunkot_tas||[]).push([[7310],{47310:function(e,n,t){t.r(n);var a=t(29439),l=t(2880),o=t(47313),s=t(65040),u=t(56573),i=t(40765),r=t(81514),c=t(42614),d=t(2135),m=t(46417);n.default=function(){var e=(0,o.useState)([]),n=(0,a.Z)(e,2),t=n[0],f=n[1],p=(0,o.useState)([]),h=(0,a.Z)(p,2),x=h[0],v=h[1],b=(0,o.useState)(!1),y=(0,a.Z)(b,2),w=y[0],g=y[1],j=s.Z.useForm(),Z=(0,a.Z)(j,1)[0],C=(0,o.useContext)(c.V).action,k=(0,o.useRef)(null);(0,o.useEffect)((function(){C.changeMenuKey("/request/impersonateuser"),N()}),[]);var N=function(){g(!0),(0,u.Z)({method:"get",url:"tas/requestgroupemployee"}).then((function(e){f(e.data),v(e.data)})).catch((function(e){})).then((function(){return g(!1)}))},F=[{label:"#",name:"EmployeeId",dataType:"string",width:80},{label:"Fullname",name:"FullName"},{label:"Email",name:"Email"},{label:"Task",name:"TaskCount"},{label:"",name:"action",width:"170px",cellRender:function(e){return(0,m.jsx)("div",{className:"flex gap-4",children:(0,m.jsx)(d.Link,{to:"/request/impersonateuser/".concat(e.data.EmployeeId),children:(0,m.jsx)("button",{type:"button",className:"edit-button",children:"Impersonate & Tasks"})})})}}];return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"rounded-ot bg-white px-3 py-2 mb-5 shadow-md",children:[(0,m.jsx)("div",{className:"text-lg font-bold mb-2",children:"Impersonate User"}),(0,m.jsx)(l.Form,{form:Z,fields:[{label:"Full Name",name:"FullName",className:"col-span-12 mb-2",inputprops:{className:"w-[250px]"}}],className:"flex gap-x-5 w-[600px]",onFinish:function(e){g(!0),(0,r.Z)(e,t).then((function(e){v(e),g(!1)}))},noLayoutConfig:!0,wrapperCol:{flex:1},children:(0,m.jsx)("div",{children:(0,m.jsx)(l.Button,{htmlType:"submit",className:"flex items-center",icon:(0,m.jsx)(i.Z,{}),children:"Search"})})})]}),(0,m.jsx)(l.Table,{ref:k,data:x,columns:F,allowColumnReordering:!1,loading:w,keyExpr:"Id",tableClass:"max-h-[calc(100vh-210px)]"})]})}},81514:function(e,n,t){t.d(n,{Z:function(){return u}});var a=t(93433),l=t(4942),o=t(1413);var s=function e(n,t,a){var s=[],u=Object.keys(t);return n.map((function(n){if(n[a].length>0)s.push((0,o.Z)((0,o.Z)({},n),{},(0,l.Z)({},a,e(n[a],t,a))));else{var i=!1;u.map((function(e){var a,l;""!==t[e]&&"undefined"!==typeof t[e]&&null!==t[e]?i="string"===typeof t[e]?i||(null===(a=n[e])||void 0===a?void 0:a.toLowerCase().includes(null===(l=t[e])||void 0===l?void 0:l.toLowerCase())):i||n[e]===t[e]:i=!0})),i&&s.push(n)}})),s};function u(e,n,t,l){return"tree"===t?s(n,e,l):new Promise((function(t,l){var o=Object.keys(e),s=(0,a.Z)(n);o.map((function(n){""!==e[n]&&"undefined"!==typeof e[n]&&null!==e[n]&&(s="string"===typeof e[n]?s.filter((function(t){var a,l;return null===(a=t[n])||void 0===a?void 0:a.toLowerCase().includes(null===(l=e[n])||void 0===l?void 0:l.toLowerCase())})):s.filter((function(t){return t[n]===e[n]})))})),t(s)}))}}}]);