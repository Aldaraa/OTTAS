"use strict";(self.webpackChunkot_tas=self.webpackChunkot_tas||[]).push([[3756],{63756:function(e,t,a){a.r(t);var n=a(29439),o=a(56573),c=a(2880),l=a(47313),s=a(93031),r=a(40765),d=a(58467),i=a(2135),m=a(10658),u=a.n(m),h=a(82241),f=a(76629),p=a(46417),x=s.Z.RangePicker;t.default=function(){var e=(0,l.useState)([]),t=(0,n.Z)(e,2),a=t[0],s=t[1],m=(0,l.useState)([u()().startOf("month"),u()().endOf("month")]),Y=(0,n.Z)(m,2),D=Y[0],g=Y[1],b=(0,l.useState)(!1),y=(0,n.Z)(b,2),v=y[0],j=y[1],M=(0,d.UO)().employeeId,R=(0,h.Z)();(0,l.useEffect)((function(){if(f.Z.set("pp_rt","roombooking"),R.size>0){var e=R.get("startDate"),t=R.get("endDate");g([u()(e),u()(t)]),(0,o.Z)({method:"get",url:"tas/employeestatus/employeebooking?employeeId=".concat(M,"&startDate=".concat(e,"&endDate=").concat(t))}).then((function(e){s(e.data)})).catch((function(e){}))}else N()}),[]);var N=function(){(0,o.Z)({method:"get",url:"tas/employeestatus/employeebooking?employeeId=".concat(M).concat(D[0]&&D[1]?"&startDate=".concat(u()(D[0]).format("YYYY-MM-DD"),"&endDate=").concat(u()(D[1]).format("YYYY-MM-DD")):"")}).then((function(e){s(e.data)})).catch((function(e){}))},k=[{label:"Owner",name:"RoomOwner",alignment:"center",width:"55px",cellRender:function(e){return(0,p.jsx)("span",{className:"text-[12px] px-1",children:e.value?(0,p.jsx)("i",{className:"dx-icon-home text-green-500"}):(0,p.jsx)("i",{className:"dx-icon-home text-gray-400 text-[14px]"})})}},{label:"Room Number",name:"RoomNumber"},{label:"Camp",name:"Camp"},{label:"Room Type",name:"RoomType"},{label:"Date In",name:"DateIn",cellRender:function(e){return(0,p.jsx)("div",{children:u()(e.value).format("YYYY-MM-DD ddd")})}},{label:"Last Night",name:"LastNight",cellRender:function(e){return(0,p.jsx)("div",{children:u()(e.value).format("YYYY-MM-DD ddd")})}},{label:"Days",name:"Days"},{label:"",name:"action",width:"140px",cellRender:function(e){return(0,p.jsx)("div",{className:"flex gap-4",children:(0,p.jsx)(i.Link,{to:"/tas/roomcalendar/".concat(e.data.RoomId,"/").concat(u()(e.data.DateIn).startOf("month").format("YYYY-MM-DD"),"?empId=").concat(M),children:(0,p.jsx)("button",{type:"button",className:"edit-button",children:"Room Calendar"})})})}}];return(0,p.jsxs)("div",{className:"bg-white rounded-ot px-3 col-span-12 shadow-md",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,p.jsx)("div",{className:"text-lg font-bold",children:"Room Occupancy Enquiry"}),(0,p.jsxs)("div",{className:"flex gap-5",children:[(0,p.jsx)(x,{value:D,onChange:function(e){return g(e)}}),(0,p.jsx)(c.Button,{onClick:function(){D[0]&&D[1]&&(j(!0),(0,o.Z)({method:"get",url:"tas/employeestatus/employeebooking?employeeId=".concat(M,"&startDate=").concat(u()(D[0]).format("YYYY-MM-DD"),"&endDate=").concat(u()(D[1]).format("YYYY-MM-DD"))}).then((function(e){s(e.data)})).catch((function(e){})).then((function(){return j(!1)})))},loading:v,icon:(0,p.jsx)(r.Z,{}),children:"Search"})]})]}),(0,p.jsx)(c.Table,{data:a,columns:k,allowColumnReordering:!1,loading:v,pager:{showPageSizeSelector:(null===a||void 0===a?void 0:a.length)>100},containerClass:"shadow-none px-0 border-t rounded-none",tableClass:"max-h-[calc(100vh-400px)]",keyExpr:"Id"})]})}}}]);