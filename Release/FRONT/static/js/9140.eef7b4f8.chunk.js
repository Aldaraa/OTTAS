"use strict";(self.webpackChunkot_tas=self.webpackChunkot_tas||[]).push([[9140],{69140:function(e,s,i){i.r(s),i.d(s,{default:function(){return k}});var t=i(47313),l=i(58467),r=i(29439),a=i(56573),o=i(2135),n=i(26672),d=i(22539),c=i(63733),x=i(42614),u=i(2880),m=i(1522),v=i(41612),h=i(21521),f=i(18637),p=i(15413),j=i(84523),g=i(37289),N=i(88019),b=i(58821),y=i(73030),C=i(10658),w=i.n(C),P=i(46417);var R=function(e){var s,i,C,R,k=e.profileData,T=(0,t.useState)(null),z=(0,r.Z)(T,2),A=z[0],D=z[1],I=(0,t.useState)(!0),L=(0,r.Z)(I,2),S=L[0],F=L[1],Z=(0,t.useContext)(x.V),E=Z.state,M=Z.action,Y=(0,l.UO)().employeeId;(0,t.useEffect)((function(){k&&(M.saveUserProfileData(k),D(k),F(!1))}),[k]),(0,t.useEffect)((function(){0!==E.ChangedFlight&&U()}),[E.ChangedFlight]);var U=(0,t.useCallback)((function(){(0,a.Z)({method:"get",url:"tas/employee/".concat(Y)}).then((function(e){M.saveUserProfileData(e.data),D(e.data)})).catch((function(e){})).then((function(){return F(!1)}))}),[Y,M]),B=(0,t.useMemo)((function(){if(A){if(null!==A&&void 0!==A&&A.Gender&&A.Active)return m;if(null!==A&&void 0!==A&&A.Gender&&!A.Active)return v;if((null===A||void 0===A||!A.Gender)&&A.Active)return h;if((null===A||void 0===A||!A.Gender)&&!A.Active)return f}}),[A]);return(0,P.jsx)("div",{className:"mb-4",children:S?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"animate-skeleton h-[130px] flex rounded-ot mb-5 border"}),(0,P.jsx)("div",{className:"animate-skeleton h-[300px] flex rounded-ot border"})]}):(0,P.jsxs)("div",{className:"grid grid-cols-12 gap-5 relative",children:[(0,P.jsxs)("div",{className:(0,y.m6)("rounded-ot p-4 flex justify-between col-span-12 border border-gray-300 sticky top-0 z-[100] shadow-md",1===(null===A||void 0===A?void 0:A.Active)?"bg-white":"bg-[#d9d9d9]"),children:[(0,P.jsxs)("div",{className:"flex gap-5",children:[(0,P.jsx)("div",{className:"bg-gray-100 h-[80px] w-[80px] flex items-center justify-center rounded-ot border overflow-hidden",children:(0,P.jsx)("img",{alt:"profile-img",src:B})}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("span",{className:"text-start lg:text-lg font-bold flex gap-1 items-center",children:[null===A||void 0===A?void 0:A.Firstname," ",null===A||void 0===A?void 0:A.Lastname," (",null===A||void 0===A?void 0:A.Id,")",1===(null===A||void 0===A?void 0:A.OnSiteStatus)?(0,P.jsx)(u.Tooltip,{title:"Today on Site",children:(0,P.jsx)("span",{children:(0,P.jsx)("div",{className:"ml-2 h-3 w-3 bg-green-400 rounded-full relative z-0",children:(0,P.jsx)("div",{className:"absolute animate-ping inset-0 bg-green-400 rounded-full z-10"})})})}):null]}),(0,P.jsxs)("div",{className:"flex gap-5 divide-x mt-2",children:[(0,P.jsxs)("div",{className:"text-[#718096] text-xs flex flex-col gap-1",children:[(0,P.jsx)(u.Tooltip,{title:"Nationality",children:(0,P.jsxs)("div",{className:"flex gap-3 items-center cursor-default",children:[(0,P.jsx)("div",{children:(0,P.jsx)(n.FaPassport,{size:15})}),(0,P.jsx)("div",{children:null!==A&&void 0!==A&&A.NationalityName?null===A||void 0===A?void 0:A.NationalityName:(0,P.jsx)("span",{className:"text-gray-400",children:"Not registered"})})]})}),(0,P.jsx)(u.Tooltip,{Tooltip:!0,title:"".concat(A.EmployerCurrentStatus?"Temporary":"Permanent"," Employer name"),children:(0,P.jsxs)("div",{className:"flex gap-3 items-center cursor-default",children:[(0,P.jsx)("div",{children:(0,P.jsx)(n.FaRegBuilding,{size:15})}),(0,P.jsxs)("div",{children:[(0,P.jsx)(p.Z,{className:"mr-1",status:A.EmployerCurrentStatus?"warning":"success"}),null!==A&&void 0!==A&&A.EmployerName?null===A||void 0===A?void 0:A.EmployerName:(0,P.jsx)("span",{className:"text-gray-400",children:"Not registered"})]})]})}),(0,P.jsx)(u.Tooltip,{title:(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{className:"text-secondary2",children:"Cost Code: "}),A.CostCodeDescription?A.CostCodeDescription:null]}),children:(0,P.jsxs)("div",{className:"flex items-center gap-3 cursor-default",children:[(0,P.jsx)("div",{children:(0,P.jsx)(d.c85,{size:15})}),(0,P.jsxs)("div",{children:[(0,P.jsx)(p.Z,{className:"mr-1",status:A.CostCodeCurrentStatus?"warning":"success"}),null!==A&&void 0!==A&&A.CostCodeNumber?null===A||void 0===A?void 0:A.CostCodeNumber:(0,P.jsx)("span",{className:"text-gray-400",children:"Not registered"})]})]})}),(0,P.jsx)(u.Tooltip,{title:"Mobile",className:"flex items-center gap-3 cursor-default",children:(0,P.jsxs)("div",{className:"flex items-center gap-3 cursor-default",children:[(0,P.jsx)("div",{children:(0,P.jsx)(d.IXo,{size:15})}),(0,P.jsx)("div",{children:null!==A&&void 0!==A&&A.PersonalMobile?null===A||void 0===A?void 0:A.PersonalMobile:(0,P.jsx)("span",{className:"text-gray-400",children:"Not registered"})})]})})]}),(0,P.jsxs)("div",{className:"pl-5 text-[#718096] text-xs flex flex-col gap-1",children:[(0,P.jsx)(u.Tooltip,{title:"".concat(A.PositionCurrentStatus?"Temporary":"Permanent"," Position name"),children:(0,P.jsxs)("div",{className:"flex items-center gap-3 cursor-default",children:[(0,P.jsx)("div",{children:(0,P.jsx)(n.FaBriefcase,{size:15})}),(0,P.jsxs)("div",{children:[(0,P.jsx)(p.Z,{className:"mr-1",status:A.PositionCurrentStatus?"warning":"success"}),null!==A&&void 0!==A&&A.PositionName?null===A||void 0===A?void 0:A.PositionName:(0,P.jsx)("span",{className:"text-gray-400",children:"Not registered"})]})]})}),(0,P.jsx)(u.Tooltip,{title:"SAP ID #",className:"flex items-center gap-3 cursor-default",children:(0,P.jsxs)("div",{className:"flex items-center gap-3 cursor-default",children:[(0,P.jsx)("div",{children:(0,P.jsx)(c.Lhg,{size:15})}),(0,P.jsx)("div",{children:null===A||void 0===A?void 0:A.SAPID})]})}),(0,P.jsxs)(u.Tooltip,{title:"Camp & Room Type",className:"flex items-start gap-3 cursor-default",children:[(0,P.jsx)("div",{children:(0,P.jsx)(b.hh$,{size:15})}),(0,P.jsx)("div",{children:null===A||void 0===A?void 0:A.CampRoomType})]}),(0,P.jsx)(u.Tooltip,{title:"Room number",className:"flex items-center gap-3 cursor-default",children:(0,P.jsxs)("div",{className:"flex items-center gap-3 cursor-default",children:[(0,P.jsx)("div",{children:(0,P.jsx)(n.FaHouseUser,{size:15})}),null!==A&&void 0!==A&&A.RoomNumber?"AccomAdmin"===(null===(s=E.userInfo)||void 0===s?void 0:s.Role)||"SystemAdmin"===(null===(i=E.userInfo)||void 0===i?void 0:i.Role)?(0,P.jsx)(o.Link,{target:"_blank",to:"/tas/roomcalendar/".concat(A.RoomId,"/").concat(w()().format("YYYY-MM-DD")),children:null===A||void 0===A?void 0:A.RoomNumber}):(0,P.jsx)("div",{children:null===A||void 0===A?void 0:A.RoomNumber}):(0,P.jsx)("div",{className:"text-gray-400",children:"Not registered"})]})}),null!==A&&void 0!==A&&A.CurrentRoomNumber?(0,P.jsx)(u.Tooltip,{title:"Current Room",className:"flex items-center gap-3 cursor-default",children:(0,P.jsxs)("div",{className:"flex items-center gap-3 cursor-default text-success",children:[(0,P.jsx)("div",{children:(0,P.jsx)(n.FaHouseUser,{size:15})}),"AccomAdmin"===(null===(C=E.userInfo)||void 0===C?void 0:C.Role)||"SystemAdmin"===(null===(R=E.userInfo)||void 0===R?void 0:R.Role)?(0,P.jsx)(o.Link,{target:"_blank",to:"/tas/roomcalendar/".concat(A.CurrentRoomId,"/").concat(w()().format("YYYY-MM-DD")),children:null===A||void 0===A?void 0:A.CurrentRoomNumber}):(0,P.jsx)("div",{children:null===A||void 0===A?void 0:A.CurrentRoomNumber})]})}):null]}),(0,P.jsxs)("div",{className:"pl-5 text-[#718096] text-xs flex flex-col gap-1",children:[(0,P.jsx)(u.Tooltip,{title:"Location",className:"flex items-center gap-3 cursor-default",children:(0,P.jsxs)("div",{className:"flex items-center gap-3 cursor-default",children:[(0,P.jsx)("div",{children:(0,P.jsx)(n.FaLocationArrow,{size:15})}),(0,P.jsx)("div",{children:null!==A&&void 0!==A&&A.LocationName?null===A||void 0===A?void 0:A.LocationName:(0,P.jsx)("span",{className:"text-gray-400",children:"Not registered"})})]})}),(0,P.jsx)(u.Tooltip,{title:"Resource Type",className:"flex items-center gap-3 cursor-default",children:(0,P.jsxs)("div",{className:"flex items-center gap-3 cursor-default",children:[(0,P.jsx)("div",{children:(0,P.jsx)(n.FaUserAlt,{size:14})}),(0,P.jsx)("div",{children:null!==A&&void 0!==A&&A.PeopleTypeName?null===A||void 0===A?void 0:A.PeopleTypeName:(0,P.jsx)("span",{className:"text-gray-400",children:"Not registered"})})]})})]}),(0,P.jsx)("div",{className:"pl-4 text-[#718096] text-xs flex flex-col gap-1",children:(0,P.jsx)(u.DepartmentList,{toLink:"/tas/roomassign/",data:A,id:null===A||void 0===A?void 0:A.DepartmentId})})]})]})]}),(0,P.jsxs)("div",{className:"grid grid-cols-2 items-center gap-3 text-[10px] leading-none",children:[(0,P.jsx)(o.NavLink,{to:"roombooking",className:function(e){var s=e.isActive;return"p-1 border rounded-[12px] hover:shadow-card transition-all ".concat(s?"border-[#00CBA6] shadow-card":"")},children:(0,P.jsxs)("div",{className:"h-[50px] w-[50px] text-[#374151] rounded-[10px] flex flex-col justify-center items-center gap-1 text-center",children:[(0,P.jsx)(N.r,{}),"Room Booking"]})}),(0,P.jsx)(o.NavLink,{to:"information",className:function(e){var s=e.isActive;return"p-1 border rounded-[12px] hover:shadow-card transition-all ".concat(s?"border-[#0058cb] shadow-card":"")},children:(0,P.jsxs)("div",{className:"h-[50px] w-[50px] text-[#374151] rounded-[10px] flex flex-col justify-center items-center gap-1 text-center",children:[(0,P.jsx)(c.Lhg,{size:18}),"Profile Information"]})}),(0,P.jsx)(j.Z,{trigger:"hover",placement:"bottomRight",dropdownRender:function(e){return(0,P.jsxs)("div",{className:"bg-white rounded-ot shadow-md p-1 mt-1",children:[(0,P.jsx)(o.Link,{to:"audit",children:(0,P.jsx)("div",{className:"py-1 px-3 hover:bg-black hover:bg-opacity-[0.04] rounded-ot",children:"Profile Audit"})}),(0,P.jsx)(o.Link,{to:"profilebydate",children:(0,P.jsx)("div",{className:"py-1 px-3 hover:bg-black hover:bg-opacity-[0.04] rounded-ot",children:"Profile by date"})})]})},children:(0,P.jsx)("button",{type:"button",className:"p-1 border rounded-[12px] hover:shadow-card transition-all",children:(0,P.jsxs)("div",{className:"h-[50px] w-[50px] text-[10px] text-[#374151] rounded-[10px] flex flex-col justify-center items-center gap-1",children:[(0,P.jsx)(g.Z,{style:{fontSize:20}}),"Others"]})})})]})]}),(0,P.jsx)("div",{className:"w-full col-span-12",children:(0,P.jsxs)("div",{className:"flex items-start gap-5",children:[(0,P.jsx)(u.VerticalCalendar,{employeeId:E.userProfileData.Id}),(0,P.jsx)(u.FlightList,{profileData:E.userProfileData,employeeId:E.userProfileData.Id})]})})]})})};var k=function(){var e=(0,l.f_)(),s=(0,t.useContext)(x.V).action;return(0,t.useEffect)((function(){e&&s.saveUserProfileData(e)}),[e]),(0,P.jsxs)("div",{className:"",children:[(0,P.jsx)(R,{profileData:e}),(0,P.jsx)(l.j3,{})]})}},37289:function(e,s,i){i.d(s,{Z:function(){return n}});var t=i(87462),l=i(47313),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},a=i(17469),o=function(e,s){return l.createElement(a.Z,(0,t.Z)({},e,{ref:s,icon:r}))};var n=l.forwardRef(o)}}]);