"use strict";(self.webpackChunkot_tas=self.webpackChunkot_tas||[]).push([[1707],{81707:function(t,e,a){a.r(e);var o=a(29439),n=a(47313),r=a(58467),s=a(2880),c=(a(30468),a(6761),a(42614)),i=(a(81404),a(12998)),m=a(93031),l=a(56573),d=a(10658),u=a.n(d),f=a(46417);e.default=function(){var t=(0,r.f_)(),e=(0,n.useState)(!1),a=(0,o.Z)(e,2),d=a[0],h=a[1],b=((0,n.useContext)(c.V).state,(0,r.UO)().empId),x=s.Form.useForm(),p=(0,o.Z)(x,1)[0],D=i.ZP.useNotification(),j=(0,o.Z)(D,2),Y=j[0],w=j[1];return(0,f.jsxs)("div",{className:"bg-white p-4 rounded-ot ",children:[(0,f.jsx)(s.PeopleProfile,{profileData:t}),(0,f.jsx)("div",{className:"text-lg font-bold mb-3 mt-5",children:"Transport Audit"}),(0,f.jsxs)(s.Form,{className:"flex gap-5 mb-3",layout:"horizontal",noLayoutConfig:!0,onFinish:function(t){var e={startDate:u()(t.fromDate).format("YYYY-MM-DD"),endDate:u()(t.toDate).format("YYYY-MM-DD")};h(!0),(0,l.Z)({method:"get",url:"tas/audit/transportaudit/".concat(b,"/").concat(e.startDate,"/").concat(e.endDate),responseType:"blob"}).then((function(t){if(200===t.status){var e=window.URL.createObjectURL(t.data),a=document.createElement("a");a.href=e,a.download="TAS_TRANSPORT_AUDIT_".concat(u()().format("YYYY-MM-dd_HH-mm-ss"),".xlsx"),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(e)}else Y.error({message:"Audit data not found",duration:5})})).catch((function(t){})).then((function(){return h(!1)}))},form:p,initValues:{fromDate:u()().subtract(1,"day"),toDate:u()()},children:[(0,f.jsx)(s.Form.Item,{className:"flex items-center mb-0",name:"fromDate",label:"From",children:(0,f.jsx)(m.Z,{})}),(0,f.jsx)(s.Form.Item,{className:"flex items-center mb-0",name:"toDate",label:"To",children:(0,f.jsx)(m.Z,{})}),(0,f.jsx)(s.Form.Item,{className:"mb-0",children:(0,f.jsx)(s.Button,{type:"primary",onClick:function(){return p.submit()},loading:d,children:"Get"})})]}),w]})}}}]);