"use strict";(self.webpackChunkot_tas=self.webpackChunkot_tas||[]).push([[453],{90453:function(e,s,a){a.r(s);var r=a(1413),i=a(29439),n=a(92350),l=a(12019),t=a(12998),o=a(56573),c=a(2880),u=a(47313),m=a(46417),d=[{label:"SMTP server",name:"smtpServer",className:"col-span-12 mb-2",rules:[{required:!0,message:"Code is required"}]},{label:"PORT",name:"smtpPort",className:"col-span-12 mb-2",rules:[{required:!0,message:"Description is required"}]},{label:"PORT",name:"email",className:"col-span-12 mb-2",rules:[{required:!0,message:"Description is required"}]},{label:"Password",name:"password",className:"col-span-12 mb-2",rules:[{required:!0,message:"Password is required"}]}];s.default=function(){var e=(0,u.useState)(null),s=(0,i.Z)(e,2),a=s[0],p=s[1],b=(0,u.useState)(!1),f=(0,i.Z)(b,2),h=f[0],g=f[1],x=(0,u.useState)(!1),v=(0,i.Z)(x,2),q=v[0],j=v[1],P=(0,u.useState)(!1),N=(0,i.Z)(P,2),C=N[0],S=N[1],Z=t.ZP.useNotification(),w=(0,i.Z)(Z,2),y=w[0],k=w[1],T=c.Form.useForm(),E=(0,i.Z)(T,1)[0];(0,u.useEffect)((function(){F()}),[]);var F=(0,u.useCallback)((function(){(0,o.Z)({method:"get",url:"tas/mailsmtpconfig"}).then((function(e){p(e.data)})).catch((function(e){}))}),[]),M=function(e){j(!0),(0,o.Z)({method:"post",url:"tas/mailsmtpconfig/create",data:(0,r.Z)({},e)}).then((function(){S(!1),F()})).catch((function(e){var s,a,r=e.err;400===r.response.status&&y.error({message:"Error",duration:5,description:(0,m.jsx)("div",{children:null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message})})})).then((function(){return j(!1)}))},B=(0,u.useCallback)((function(){g(!1)}),[]),D=(0,u.useMemo)((function(){return C?[{label:"SMTP server",name:"smtpServer",className:"col-span-12 mb-2",rules:[{required:!0,message:"SMTP Server is required"}]},{label:"PORT",name:"smtpPort",className:"col-span-12 mb-2",rules:[{required:!0,message:"PORT is required"}]},{label:"Email",name:"email",className:"col-span-12 mb-2",rules:[{required:!0,message:"Email is required"},{type:"email",message:"The input is not valid E-mail!"}]},{label:"Password",name:"password",type:"password",className:"col-span-12 mb-2",rules:[{required:!0,message:"Password is required"}]}]:[{label:"SMTP server",name:"smtpServer",className:"col-span-12 mb-2",rules:[{required:!0,message:"Code is required"}]},{label:"PORT",name:"smtpPort",className:"col-span-12 mb-2",rules:[{required:!0,message:"Description is required"}]},{label:"PORT",name:"email",className:"col-span-12 mb-2",rules:[{required:!0,message:"Description is required"}]}]}),[C]);return(0,m.jsxs)("div",{className:"rounded-ot shadow-card bg-white px-3 py-2",children:[(0,m.jsx)("div",{className:"text-lg font-bold mb-3",children:"SMTP Server Configuration"}),(0,m.jsx)(c.Form,{form:E,fields:D,editData:a,onFinish:M,className:"w-[500px]",disabled:!C,children:(0,m.jsx)("div",{className:"col-span-12 flex justify-end items-center gap-2",children:C?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Button,{type:"primary",onClick:function(){return E.submit()},loading:q,icon:(0,m.jsx)(n.Z,{}),children:"Save"}),(0,m.jsx)(c.Button,{onClick:function(){return S(!1)},disabled:q,children:"Cancel"})]}):(0,m.jsx)(c.Button,{type:"primary",onClick:function(){return S(!0)},icon:(0,m.jsx)(l.Z,{}),children:"Edit"})})}),(0,m.jsx)(c.Modal,{open:h,onCancel:B,children:(0,m.jsx)(c.Form,{form:E,fields:d,editData:a,onFinish:M,className:"w-[500px]",disabled:!C,children:(0,m.jsxs)("div",{className:"col-span-12 flex justify-end items-center gap-2",children:[C?(0,m.jsx)(c.Button,{type:"primary",onClick:function(){return E.submit()},loading:q,icon:(0,m.jsx)(n.Z,{}),children:"Save"}):(0,m.jsx)(c.Button,{type:"primary",onClick:function(){return E.submit()},loading:q,icon:(0,m.jsx)(l.Z,{}),children:"Edit"}),(0,m.jsx)(c.Button,{onClick:B,disabled:q,children:"Cancel"})]})})}),k]})}}}]);