"use strict";(self.webpackChunkot_tas=self.webpackChunkot_tas||[]).push([[1990],{61990:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(1413),l=n(29439),r=n(47313),o=n(2880),s=n(65040),i=n(58467),d=n(45987),c=n(23495),u=n(52957),h=n(74294),m=n(31283),p=n(21975),f=n(56573),v=n(42614),x=n(10658),b=n.n(x),j=n(2135),I=(n(81237),n(46417)),w=["key","name"],Z=(0,r.lazy)((function(){return n.e(8397).then(n.bind(n,18397))}));var C=function(e){var t,n,i,x,C,g,N,D,y,S=e.data,T=void 0===S?[]:S,L=e.handleChangeData,F=e.changeIsEditing,k=e.className,V=e.selectionTableRef,R=(0,r.useState)(!1),M=(0,l.Z)(R,2),E=M[0],O=M[1],q=(0,r.useState)(b()()),G=(0,l.Z)(q,2),z=(G[0],G[1],(0,r.useState)(null)),P=(0,l.Z)(z,2),W=(P[0],P[1],(0,r.useState)(null)),B=(0,l.Z)(W,2),U=(B[0],B[1],(0,r.useState)(!1)),A=(0,l.Z)(U,2),H=A[0],J=A[1],_=(0,r.useState)([]),K=(0,l.Z)(_,2),Q=K[0],X=K[1],Y=(0,r.useState)([]),$=(0,l.Z)(Y,2),ee=($[0],$[1],(0,r.useState)(!1)),te=(0,l.Z)(ee,2),ne=te[0],ae=te[1],le=(0,r.useState)(!1),re=(0,l.Z)(le,2),oe=re[0],se=re[1],ie=(0,r.useState)([]),de=(0,l.Z)(ie,2),ce=de[0],ue=de[1],he=(0,r.useState)(!1),me=(0,l.Z)(he,2),pe=(me[0],me[1],(0,r.useState)(null)),fe=(0,l.Z)(pe,2),ve=fe[0],xe=fe[1],be=(0,r.useState)(null),je=(0,l.Z)(be,2),Ie=je[0],we=je[1],Ze=(0,r.useState)(null),Ce=(0,l.Z)(Ze,2),ge=Ce[0],Ne=Ce[1],De=(0,r.useState)(!1),ye=(0,l.Z)(De,2),Se=ye[0],Te=ye[1],Le=(0,r.useContext)(v.V),Fe=Le.state,ke=(Le.action,s.Z.useForm()),Ve=(0,l.Z)(ke,1)[0],Re=s.Z.useWatch("firstTransport",Ve),Me=s.Z.useWatch("lastTransport",Ve),Ee=s.Z.useWatch("rosters",Ve),Oe={DepartLocationId:null===(t=Fe.referData)||void 0===t||null===(n=t.locations)||void 0===n?void 0:n.find((function(e){return"UB"===e.Code})).Id,ArriveLocationId:null===(i=Fe.referData)||void 0===i||null===(x=i.locations)||void 0===x?void 0:x.find((function(e){return"OT"===e.Code})).Id},qe={DepartLocationId:null===(C=Fe.referData)||void 0===C||null===(g=C.locations)||void 0===g?void 0:g.find((function(e){return"OT"===e.Code})).Id,ArriveLocationId:null===(N=Fe.referData)||void 0===N||null===(D=N.locations)||void 0===D?void 0:D.find((function(e){return"UB"===e.Code})).Id},Ge=(0,r.useMemo)((function(){var e,t,n=null===(e=Fe.referData)||void 0===e||null===(t=e.roomStatuses)||void 0===t?void 0:t.filter((function(e){return e.OnSite})),a=null===n||void 0===n?void 0:n.find((function(e){return"DS"===e.Code}));return{list:n||[],defualtValue:a}}),[null===(y=Fe.referData)||void 0===y?void 0:y.roomStatuses]);(0,r.useEffect)((function(){var e=T.map((function(e){var t;return{employeeId:e.Id,Fullname:e.Fullname,departmentId:e.Departmentid,positionId:e.PositionId,employerId:e.EmployerId,costCodeId:e.CostCodeId,firsScheduleGoShow:0,lastSheduleGoShow:0,shiftId:null===(t=Ge.defualtValue)||void 0===t?void 0:t.value}}));Ve.setFieldsValue({rosters:e,firstTransport:{Direction:"IN"},lastTransport:{Direction:"OUT"}})}),[T,Ge]);var ze=[{label:"Fullname",name:"FullName",alignment:"left",width:"200px",cellRender:function(e){return(0,I.jsx)("div",{className:"text-blue-500 hover:underline",children:(0,I.jsx)(j.Link,{to:"/tas/people/search/".concat(e.data.EmployeeId),children:e.value})})}},{label:"Error",name:"Error"},{label:"",name:"action",alignment:"right",width:100,cellRender:function(e){return(0,I.jsx)("button",{type:"button",className:"dlt-button",onClick:function(){return function(e){var t=e.data;X(Q.filter((function(e){return e.EmployeeId!==t.EmployeeId})))}(e)},children:"Remove"})}}],Pe=(0,r.useCallback)((function(e){var t;if(0!==(null===(t=e.rosters)||void 0===t?void 0:t.length)){var n,a,l;J(!0);var r=[];null===(n=e.rosters)||void 0===n||n.map((function(e){r.push(e.employeeId)})),(0,f.Z)({method:"post",url:"tas/transport/multiplebooking/preview",data:{firsScheduleId:null===(a=e.firstTransport)||void 0===a?void 0:a.flightId,lastSheduleId:null===(l=e.lastTransport)||void 0===l?void 0:l.flightId,employeeIds:r}}).then((function(e){X(e.data),ae(!0)})).catch((function(e){})).then((function(){return J(!1)}))}}),[]),We=(0,r.useCallback)((function(){L([]),F(!1)}),[]),Be=function(e,t){if("departmentId"===t){var n,a=null===(n=Fe.referData.departments)||void 0===n?void 0:n.find((function(t){return t.Id===e}));a&&a.CostCodeId&&(null===Ee||void 0===Ee||Ee.map((function(e,t){Ve.setFieldValue(["rosters",t,"costCodeId"],a.CostCodeId)})))}else null===Ee||void 0===Ee||Ee.map((function(n,a){Ve.setFieldValue(["rosters",a,t],e)}))},Ue=function(){var e={StartDate:(null===Re||void 0===Re?void 0:Re.Date)||null,EndDate:null};ve?(e.DepartLocationId=ve.FromLocationId,e.ArriveLocationId=ve.ToLocationId):e=(0,a.Z)((0,a.Z)({},e),Oe),Ne((0,a.Z)((0,a.Z)({},e),{},{transportType:"first"})),Te(!0)},Ae=function(){var e={StartDate:(null===Me||void 0===Me?void 0:Me.Date)||null,EndDate:null};Ie?(e.DepartLocationId=null===Ie||void 0===Ie?void 0:Ie.FromLocationId,e.ArriveLocationId=null===Ie||void 0===Ie?void 0:Ie.ToLocationId):e=ve?(0,a.Z)((0,a.Z)({},e),{},{DepartLocationId:null===ve||void 0===ve?void 0:ve.ToLocationId,ArriveLocationId:null===ve||void 0===ve?void 0:ve.FromLocationId}):(0,a.Z)((0,a.Z)({},e),qe),Ne((0,a.Z)((0,a.Z)({},e),{},{transportType:"last"})),Te(!0)},He=function(){we(null),Ve.setFieldValue(["lastTransport","Description"],null),Ve.setFieldValue(["lastTransport","flightId"],null)};return(0,I.jsxs)("div",{className:"rounded-ot bg-white p-5 mb-5 shadow-md ".concat(k),children:[(0,I.jsx)(o.Button,{className:"mb-3",onClick:function(){L(Ee),F(!1)},icon:(0,I.jsx)(c.Z,{}),children:"Back"}),(0,I.jsxs)(s.Z,{form:Ve,size:"small",onFinish:Pe,initialValues:{rosters:[],startDate:null,durationMonth:0,flightGroupMasterId:null},children:[(0,I.jsx)(s.Z.List,{name:"rosters",children:function(e,t){var n,l,r,o,i=t.remove;return(0,I.jsx)("div",{className:"border rounded-ot overflow-auto",children:(0,I.jsxs)("table",{className:"table-auto overflow-scroll w-full text-xs",children:[(0,I.jsx)("thead",{className:"text-[#959595]",children:(0,I.jsxs)("tr",{className:"text-left font-normal",children:[(0,I.jsx)("th",{className:"border-b px-1 sticky left-0 z-10 bg-white",children:"#"}),(0,I.jsx)("th",{className:"border-b px-1 sticky left-[38px] z-10 bg-white",children:"Fullname"}),(0,I.jsx)("th",{className:"border-b px-1",children:(0,I.jsx)(u.Z,{style:{width:200},treeData:null===(n=Fe.referData)||void 0===n?void 0:n.departments,virtual:!0,treeLine:!0,popupMatchSelectWidth:!1,showSearch:!0,fieldNames:{label:"Name",value:"Id",children:"ChildDepartments"},filterTreeNode:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.Name)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},placeholder:"Department",onChange:function(e){return Be(e,"departmentId")},allowClear:!0})}),(0,I.jsx)("th",{className:"border-b px-1",children:(0,I.jsx)(h.Z,{style:{width:200},options:null===(l=Fe.referData)||void 0===l?void 0:l.positions,popupMatchSelectWidth:!1,placeholder:"Position",allowClear:!0,showSearch:!0,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},onChange:function(e){return Be(e,"positionId")}})}),(0,I.jsx)("th",{className:"border-b px-1",children:(0,I.jsx)(h.Z,{style:{width:200},options:null===(r=Fe.referData)||void 0===r?void 0:r.costCodes,placeholder:"Cost Code",allowClear:!0,showSearch:!0,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},onChange:function(e){return Be(e,"costCodeId")}})}),(0,I.jsx)("th",{className:"border-b px-1",children:(0,I.jsx)(h.Z,{style:{width:200},options:null===(o=Fe.referData)||void 0===o?void 0:o.employers,placeholder:"Employer",allowClear:!0,showSearch:!0,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},onChange:function(e){return Be(e,"employerId")}})}),(0,I.jsx)("th",{className:"border-b px-1",children:(0,I.jsx)(h.Z,{style:{width:200},options:Ge.list,placeholder:"Shift",allowClear:!0,showSearch:!0,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},onChange:function(e){return Be(e,"shiftId")}})}),(0,I.jsx)("th",{className:"border-b px-1 font-normal",children:(0,I.jsxs)(m.Z,{style:{width:110},onChange:function(e){return Be(e.target.checked,"firsScheduleGoShow")},children:[(0,I.jsx)("b",{children:"IN"})," Go show"]})}),(0,I.jsx)("th",{className:"border-b px-1 font-normal",children:(0,I.jsxs)(m.Z,{style:{width:120},onChange:function(e){return Be(e.target.checked,"lastSheduleGoShow")},children:[(0,I.jsx)("b",{children:"OUT"})," Go show"]})}),(0,I.jsx)("th",{className:"border-b px-1"})]})}),(0,I.jsx)("tbody",{children:e.map((function(e){e.key;var t,n,l,r=e.name,o=(0,d.Z)(e,w);return(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{className:"p-1 border-t sticky left-0 z-10 ".concat((r+1)%2===0?"bg-[#fafafa]":"bg-white"),children:(0,I.jsx)(s.Z.Item,{className:"mb-0",children:(0,I.jsx)("div",{className:"w-[30px]",children:r+1})})}),(0,I.jsx)("td",{className:"p-1 border-t sticky left-[38px] z-10 ".concat((r+1)%2===0?"bg-[#fafafa]":"bg-white"),children:(0,I.jsx)(s.Z.Item,{className:"mb-0 text-xs",children:(0,I.jsx)(j.Link,{to:"/tas/people/search/".concat(Ve.getFieldValue(["rosters",r,"employeeId"])),children:(0,I.jsx)("span",{className:"text-blue-500 hover:underline text-xs",children:Ve.getFieldValue(["rosters",r,"Fullname"])})})})}),(0,I.jsx)("td",{className:"p-1 border-t",children:(0,I.jsx)(s.Z.Item,(0,a.Z)((0,a.Z)({},o),{},{name:[r,"departmentId"],className:"mb-0",rules:[{required:!0,message:"Department is required"}],children:(0,I.jsx)(u.Z,{style:{width:200},treeData:null===(t=Fe.referData)||void 0===t?void 0:t.departments,virtual:!0,treeLine:!0,popupMatchSelectWidth:!1,allowClear:!0,showSearch:!0,fieldNames:{label:"Name",value:"Id",children:"ChildDepartments"},filterTreeNode:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.Name)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},placeholder:"Department"})}))}),(0,I.jsx)("td",{className:"p-1 border-t",children:(0,I.jsx)(s.Z.Item,(0,a.Z)((0,a.Z)({},o),{},{name:[r,"positionId"],className:"mb-0",rules:[{required:!0,message:"Position is required"}],children:(0,I.jsx)(h.Z,{style:{width:200},options:null===(n=Fe.referData)||void 0===n?void 0:n.positions,placeholder:"Position",popupMatchSelectWidth:!1,allowClear:!0,showSearch:!0,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})}))}),(0,I.jsx)("td",{className:"p-1 border-t",children:(0,I.jsx)(s.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){var n,a;return(null===(n=e.rosters[r])||void 0===n?void 0:n.departmentId)!==(null===(a=t.rosters[r])||void 0===a?void 0:a.departmentId)},children:function(e){var t,n,l=e.getFieldValue,i=e.setFieldValue,d=null===(t=Fe.referData.departments)||void 0===t?void 0:t.find((function(e){return e.Id===l(["rosters",r,"departmentId"])}));return d&&d.CostCodeId&&i(["rosters",r,"costCodeId"],d.CostCodeId),(0,I.jsx)(s.Z.Item,(0,a.Z)((0,a.Z)({},o),{},{name:[r,"costCodeId"],className:"mb-0",rules:[{required:!0,message:"Cost Code is required"}],children:(0,I.jsx)(h.Z,{style:{width:200},options:null===(n=Fe.referData)||void 0===n?void 0:n.costCodes,placeholder:"Cost Code",allowClear:!0,showSearch:!0,popupMatchSelectWidth:!1,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})}))}})}),(0,I.jsx)("td",{className:"p-1 border-t",children:(0,I.jsx)(s.Z.Item,(0,a.Z)((0,a.Z)({},o),{},{name:[r,"employerId"],className:"mb-0",rules:[{required:!0,message:"Employer is required"}],children:(0,I.jsx)(h.Z,{style:{width:200},options:null===(l=Fe.referData)||void 0===l?void 0:l.employers,placeholder:"Employer",popupMatchSelectWidth:!1,allowClear:!0,showSearch:!0,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})}))}),(0,I.jsx)("td",{className:"p-1 border-t",children:(0,I.jsx)(s.Z.Item,(0,a.Z)((0,a.Z)({},o),{},{name:[r,"shiftId"],className:"mb-0",rules:[{required:!0,message:"Shift is required"}],children:(0,I.jsx)(h.Z,{style:{width:200},options:Ge.list,placeholder:"Shift",popupMatchSelectWidth:!1,allowClear:!0,showSearch:!0,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})}))}),(0,I.jsx)("td",{className:"p-1 border-t",children:(0,I.jsx)(s.Z.Item,(0,a.Z)((0,a.Z)({},o),{},{name:[r,"firsScheduleGoShow"],className:"mb-0",valuePropName:"checked",children:(0,I.jsxs)(m.Z,{style:{width:110},children:[(0,I.jsx)("b",{children:"IN"})," Go Show"]})}))}),(0,I.jsx)("td",{className:"p-1 border-t",children:(0,I.jsx)(s.Z.Item,(0,a.Z)((0,a.Z)({},o),{},{name:[r,"lastSheduleGoShow"],className:"mb-0",valuePropName:"checked",children:(0,I.jsxs)(m.Z,{style:{width:120},children:[(0,I.jsx)("b",{children:"OUT"})," Go Show"]})}))}),(0,I.jsx)("td",{className:"p-1 border-t",children:(0,I.jsx)("button",{type:"button",className:"dlt-button text-xs",onClick:function(){!function(e){var t=Ve.getFieldValue(["rosters",e,"Id"]);V.current.instance.deselectRows([t])}(r),i(r)},children:"Remove"})})]})}))})]})})}}),(0,I.jsxs)("div",{className:"col-span-12 w-[800px] gap-5 mt-8",children:[(0,I.jsx)(s.Z.Item,{label:"First Transport",className:"col-span-12 mb-2",children:(0,I.jsxs)("div",{className:"flex gap-2",children:[(0,I.jsx)(s.Z.Item,{name:["firstTransport","Date"],className:"mb-0 w-[130px]",rules:[{required:!0,message:"First Transport Date is required"}],children:(0,I.jsx)(o.DatePicker,{size:"medium",showWeek:!0,onChange:function(){xe(null),Ve.setFieldValue(["firstTransport","Description"],null),Ve.setFieldValue(["firstTransport","flightId"],null)},className:"w-full"})}),(0,I.jsx)(s.Z.Item,{name:["firstTransport","Direction"],className:"mb-0 w-[70px]",rules:[{required:!0,message:"Direction is required"}],children:(0,I.jsx)(p.Z,{size:"medium",disabled:!0})}),(0,I.jsx)(s.Z.Item,{noStyle:!0,name:["firstTransport","flightId"]}),(0,I.jsx)(s.Z.Item,{name:["firstTransport","Description"],className:"flex-1 mb-0",children:(0,I.jsx)(p.Z,{size:"medium",readOnly:!0})}),(0,I.jsx)(s.Z.Item,{className:"col-span-1 mb-0",shouldUpdate:function(e,t){var n,a;return(null===(n=e.firstTransport)||void 0===n?void 0:n.Date)!==(null===(a=t.firstTransport)||void 0===a?void 0:a.Date)},children:function(e){var t=e.getFieldValue;return(0,I.jsx)(o.Button,{className:"text-xs py-[5px]",type:"primary",onClick:Ue,disabled:!t(["firstTransport","Date"]),children:"..."})}})]})}),(0,I.jsx)(s.Z.Item,{label:"Last Transport",className:"col-span-12 mb-2",children:(0,I.jsxs)("div",{className:"flex gap-2",children:[(0,I.jsx)(s.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){var n,a;return(null===(n=e.firstTransport)||void 0===n?void 0:n.Date)!==(null===(a=t.firstTransport)||void 0===a?void 0:a.Date)},children:function(e){var t=e.getFieldValue,n=!1;return t(["lastTransport","Date"])||(n=t(["firstTransport","Date"])),(0,I.jsx)(s.Z.Item,{name:["lastTransport","Date"],className:"mb-0 w-[130px]",rules:[{required:!0,message:"Last Transport Date is required"}],children:(0,I.jsx)(o.DatePicker,{size:"medium",defaultPickerValue:n,showWeek:!0,onChange:He,className:"w-full"})})}}),(0,I.jsx)(s.Z.Item,{name:["lastTransport","Direction"],className:"mb-0 w-[70px]",children:(0,I.jsx)(p.Z,{disabled:!0,size:"medium",className:"w-full"})}),(0,I.jsx)(s.Z.Item,{noStyle:!0,name:["lastTransport","flightId"]}),(0,I.jsx)(s.Z.Item,{name:["lastTransport","Description"],className:"flex-1 mb-0",children:(0,I.jsx)(p.Z,{size:"medium",readOnly:!0})}),(0,I.jsx)(s.Z.Item,{className:"col-span-1 mb-0",shouldUpdate:function(e,t){var n,a;return(null===(n=e.lastTransport)||void 0===n?void 0:n.Date)!==(null===(a=t.lastTransport)||void 0===a?void 0:a.Date)},children:function(e){var t=e.getFieldValue;return(0,I.jsx)(o.Button,{className:"text-xs py-[5px]",type:"primary",onClick:Ae,disabled:!t(["lastTransport","Date"]),children:"..."})}})]})}),(0,I.jsx)(s.Z.Item,{shouldUpdate:function(e,t){return e.startDate!==t.startDate||e.durationMonth!==t.durationMonth||e.flightGroupMasterId!==t.flightGroupMasterId},children:function(e){e.getFieldValue;return(0,I.jsx)(s.Z.Item,{children:(0,I.jsx)(o.Button,{type:"primary",onClick:function(){return Ve.submit()},loading:H,children:"Submit"})})}})]})]}),(0,I.jsx)(o.Modal,{title:"Select Transport",open:Se,zIndex:1100,width:900,onCancel:function(){return Te(!1)},destroyOnClose:!1,children:(0,I.jsx)(o.TransportSearch,{initialSearchValues:ge,handleSelect:function(e){"first"===ge.transportType?(xe(e),Ve.setFieldValue(["firstTransport","Date"],b()(e.EventDate)),Ve.setFieldValue(["firstTransport","Description"],"".concat(e.Code," ").concat(e.Description," ").concat(e.TransportMode)),Ve.setFieldValue(["firstTransport","flightId"],e.Id),Te(!1)):(we(e),Ve.setFieldValue(["lastTransport","Date"],b()(e.EventDate)),Ve.setFieldValue(["lastTransport","Description"],"".concat(e.Code," ").concat(e.Description," ").concat(e.TransportMode)),Ve.setFieldValue(["lastTransport","flightId"],e.Id),Te(!1))}})}),(0,I.jsxs)(o.Modal,{title:"Changing",open:ne,onCancel:function(){return ae(!1)},width:900,children:[(0,I.jsx)("div",{className:"mt-0 text-xs",children:(0,I.jsx)(o.Table,{data:Q,columns:ze,containerClass:"shadow-none border overflow-hidden",pager:(null===Q||void 0===Q?void 0:Q.length)>20})}),(0,I.jsxs)("div",{className:"flex justify-end gap-5 items-center mt-3",children:[(0,I.jsx)(o.Button,{type:"primary",loading:E,onClick:function(){return function(){var e=Q.map((function(e){return e.EmployeeId}));Ee.filter((function(t){return e.includes(t.Id)})),O(!0),(0,f.Z)({method:"post",url:"tas/transport/multiplebooking",data:{firsScheduleId:null===Re||void 0===Re?void 0:Re.flightId,lastSheduleId:null===Me||void 0===Me?void 0:Me.flightId,employeeData:Ee}}).then((function(e){var t;ue(e.data),(null===(t=e.data)||void 0===t?void 0:t.length)>0&&se(!0),ae(!1)})).catch((function(e){})).then((function(){return O(!1)}))}()},children:"Process"}),(0,I.jsx)(o.Button,{onClick:function(){return ae(!1)},disabled:E,children:"Cancel"})]})]}),(0,I.jsx)(o.Modal,{open:oe,onCancel:function(){se(!1),We()},title:"Roster response",width:900,children:(0,I.jsx)(Z,{data:ce})})]})},g=n(14261),N=n(58821),D=[{label:"Person #",name:"Id",dataType:"string",width:"70px"},{label:"Firstname",name:"Firstname",dataType:"string"},{label:"Lastname",name:"Lastname",dataType:"string"},{label:"Department",name:"DepartmentName",dataType:"string",width:"220px"},{label:"Employer",name:"EmployerName",dataType:"string"},{label:"Roster",name:"RosterName",dataType:"string",width:"70px"},{label:"Resource Type",name:"PeopleTypeName",dataType:"string"},{label:"Room",name:"RoomNumber",dataType:"string"},{label:"Gender",name:"Gender",alignment:"center",width:"70px",cellRender:function(e){return(0,I.jsx)("span",{children:1===e.data.Gender?"M":"F"})},groupCellRender:function(e){return(0,I.jsxs)("span",{children:[1===e.value?"M":"F"," ",e.groupContinuesMessage?"- ".concat(e.groupContinuesMessage):""]})}},{label:"",name:"HasFutureTransport",width:"50px",cellRender:function(e){return(0,I.jsx)(g.Jg,{disabled:!0,iconSize:18,value:1===e.value||0})},headerCellRender:function(e,t){return(0,I.jsx)(N.dm9,{})}},{label:"",name:"HasFutureRoomBooking",width:"50px",cellRender:function(e,t){return(0,I.jsx)(g.Jg,{disabled:!0,iconSize:18,value:1===e.value||0})},headerCellRender:function(e,t){return(0,I.jsx)("i",{className:"dx-icon-home"})}},{label:"",name:"",width:"90px",alignment:"center",cellRender:function(e){return(0,I.jsx)("div",{className:"flex items-center",children:(0,I.jsx)(j.Link,{to:"/tas/people/search/".concat(e.data.Id),children:(0,I.jsx)("button",{type:"button",className:"edit-button",children:"View"})})})}}];var y=function(){var e=(0,i.TH)(),t=(0,r.useState)([]),n=(0,l.Z)(t,2),d=n[0],c=n[1],u=(0,r.useState)([]),h=(0,l.Z)(u,2),m=h[0],p=h[1],f=(0,r.useState)(!1),v=(0,l.Z)(f,2),x=v[0],b=v[1],j=s.Z.useForm(),w=(0,l.Z)(j,1)[0],Z=(0,r.useRef)(null);return(0,r.useEffect)((function(){e.state&&w.setFieldValue(e.state.name,e.state.value)}),[]),(0,I.jsxs)("div",{children:[(0,I.jsx)(C,{data:d,handleChangeData:function(e){c(e)},changeIsEditing:b,className:"".concat(x?"block":"hidden"),setSelectedData:c,selectionTableRef:Z}),(0,I.jsx)("div",{className:"".concat(x?"hidden":"block"),children:(0,I.jsx)(o.PeolpeSelectionTable,{ref:Z,onSelect:function(e){p(e)},onReturn:function(){var e=m.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{Fullname:"".concat(e.Firstname," ").concat(e.Lastname)})}));c(e),b(!0)},selectedRowsData:m,columns:D,searchDefaultValues:{Active:1},hideFields:["Active"]})})]})}}}]);