(self.webpackChunkot_tas=self.webpackChunkot_tas||[]).push([[2386],{2386:function(e,t,n){"use strict";n.r(t);var a=n(1413),o=n(29439),u=n(40765),l=n(29074),r=n(56573),c=n(2880),s=n(10658),i=n.n(s),f=n(99660),d=n.n(f),p=n(47313),x=n(46417);t.default=function(){var e=(0,p.useState)([]),t=(0,o.Z)(e,2),n=t[0],s=t[1],f=(0,p.useState)(!1),m=(0,o.Z)(f,2),h=m[0],b=m[1],g=(0,p.useState)([]),v=(0,o.Z)(g,2),Z=v[0],D=v[1],A=(0,p.useState)([]),S=(0,o.Z)(A,2),j=S[0],C=S[1],N=c.Form.useForm(),E=(0,o.Z)(N,1)[0];(0,p.useEffect)((function(){I(E.getFieldsValue()),(0,r.Z)({method:"get",url:"tas/location?Active=1"}).then((function(e){var t=[];e.data.map((function(e){t.push((0,a.Z)({value:e.Id,label:"".concat(e.Code," - ").concat(e.Description)},e))})),D(t)})).catch((function(e){})),(0,r.Z)({method:"get",url:"tas/transportmode?Active=1"}).then((function(e){var t=[];e.data.map((function(e){"drive"!==d()(e.Code)&&t.push((0,a.Z)({value:e.Id,label:e.Code},e))})),C(t)})).catch((function(e){}))}),[]);var I=function(e){b(!0),(0,r.Z)({method:"post",url:"/tas/transportschedule/monthtransportschedule",data:(0,a.Z)((0,a.Z)({},e),{},{ScheduleDate:e.ScheduleDate?i()(e.ScheduleDate).format("YYYY-MM-DD"):null})}).then((function(e){s(e.data)})).catch((function(e){})).then((function(){return b(!1)}))},T=[{label:"Travel Date",name:"EventDate",alignment:"left",cellRender:function(e){return(0,x.jsx)("div",{children:i()(e.value).format("YYYY-MM-DD")})}},{label:"Code",name:"Code",alignment:"left"},{label:"Direction",name:"Direction",alignment:"left",cellRender:function(e){return e.value&&(0,x.jsx)(l.Z,{color:"IN"===e.value?"green":"OUT"===e.value?"blue":"magenta",className:"text-center text-[10px] font-semibold",children:e.value})}},{label:"Description",name:"Description",alignment:"left"},{label:"Seats #",name:"Seats",alignment:"left"},{label:"Available Seats",name:"availableseats",alignment:"left",cellRender:function(e){var t=e.data.Seats-e.data.Confirmed;return(0,x.jsx)("div",{className:"".concat(t<=0?"text-red-500 font-bold":"text-green-600 font-bold"),children:t})}}],O=[{label:"Port Of Departure",name:"fromLocationId",className:"col-span-12 lg:col-span-4 mb-2",type:"select",inputprops:{options:Z}},{label:"Port Of Arrive",name:"toLocationId",className:"col-span-12 lg:col-span-4 mb-2",type:"select",inputprops:{options:Z}},{label:"Transport Code",name:"transportCode",className:"col-span-12 lg:col-span-4 mb-2"},{label:"Schedule Date",name:"ScheduleDate",className:"col-span-12 lg:col-span-4 mb-2",type:"date",inputprops:{showWeek:!0}},{label:"Mode",name:"TransportModeId",className:"col-span-12 lg:col-span-4 mb-2",type:"select",inputprops:{options:j}}];return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"rounded-ot bg-white px-3 py-2 mb-5 shadow-md",children:[(0,x.jsx)("div",{className:"text-lg font-bold mb-3",children:"Active Transport"}),(0,x.jsx)(c.Form,{form:E,fields:O,className:"grid grid-cols-12 gap-x-5",onFinish:I,size:"small",children:(0,x.jsx)("div",{className:"flex gap-4 justify-end col-span-12",children:(0,x.jsx)(c.Button,{htmlType:"submit",loading:h,icon:(0,x.jsx)(u.Z,{}),children:"Search"})})})]}),(0,x.jsx)(c.Table,{data:n,columns:T,allowColumnReordering:!1,loading:h,containerClass:"shadow-none border border-gray-300 mt-5",keyExpr:"Id",pager:n.length>20,tableClass:"max-h-[calc(100vh-300px)]"})]})}},25364:function(e){e.exports=function(e,t,n,a){var o=-1,u=null==e?0:e.length;for(a&&u&&(n=e[++o]);++o<u;)n=t(n,e[o],o,e);return n}},80556:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},30559:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},38012:function(e,t,n){var a=n(25364),o=n(36110),u=n(8771),l=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return a(u(o(t).replace(l,"")),e,"")}}},85443:function(e,t,n){var a=n(30559)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=a},83771:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},78043:function(e){var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",a="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",l="["+u+"]",r="\\d+",c="["+n+"]",s="["+a+"]",i="[^"+t+u+r+n+a+o+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+o+"]",x="(?:"+s+"|"+i+")",m="(?:"+p+"|"+i+")",h="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",b="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",g="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",v="[\\ufe0e\\ufe0f]?",Z=v+g+("(?:\\u200d(?:"+["[^"+t+"]",f,d].join("|")+")"+v+g+")*"),D="(?:"+[c,f,d].join("|")+")"+Z,A=RegExp([p+"?"+s+"+"+h+"(?="+[l,p,"$"].join("|")+")",m+"+"+b+"(?="+[l,p+x,"$"].join("|")+")",p+"?"+x+"+"+h,p+"+"+b,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r,D].join("|"),"g");e.exports=function(e){return e.match(A)||[]}},36110:function(e,t,n){var a=n(85443),o=n(11822),u=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,l=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(u,a).replace(l,"")}},99660:function(e,t,n){var a=n(38012)((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}));e.exports=a},8771:function(e,t,n){var a=n(80556),o=n(83771),u=n(11822),l=n(78043);e.exports=function(e,t,n){return e=u(e),void 0===(t=n?void 0:t)?o(e)?l(e):a(e):e.match(t)||[]}}}]);