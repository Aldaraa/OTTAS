"use strict";(self.webpackChunkot_tas=self.webpackChunkot_tas||[]).push([[3636],{13636:function(e,t,n){n.r(t);var a=n(1413),l=n(29439),i=n(2880),s=n(14261),r=n(47313),u=n(65040),c=n(56573),d=n(92350),o=n(42614),f=n(46417),m="Profile Field";t.default=function(){var e=(0,r.useState)([]),t=(0,l.Z)(e,2),n=(t[0],t[1]),p=(0,r.useState)([]),b=(0,l.Z)(p,2),h=b[0],x=b[1],v=(0,r.useState)(null),g=(0,l.Z)(v,2),j=g[0],C=g[1],Z=(0,r.useState)(!1),N=(0,l.Z)(Z,2),q=N[0],y=N[1],F=(0,r.useState)(!1),R=(0,l.Z)(F,2),k=R[0],S=R[1],w=(0,r.useState)(!1),A=(0,l.Z)(w,2),V=A[0],E=A[1],L=u.Z.useForm(),I=(0,l.Z)(L,1)[0],B=u.Z.useForm(),M=(0,l.Z)(B,1)[0],_=(0,r.useContext)(o.V).action;(0,r.useEffect)((function(){_.changeMenuKey("/tas/profilefield"),z()}),[]);var z=function(){y(!0),(0,c.Z)({method:"get",url:"tas/profilefield"}).then((function(e){if(n(e.data),1===M.getFieldValue("Active")){var t=e.data.filter((function(e){return 1===e.Active}));x(t)}else if(0===M.getFieldValue("Active")){var a=e.data.filter((function(e){return 0===e.Active}));x(a)}else x(e.data)})).catch((function(e){})).then((function(){return y(!1)}))},D=[{label:"Label",name:"Label",sort:"asc"},{label:"Column Name",name:"ColumnName"},{label:"Required",name:"FieldRequired",alignment:"left",cellRender:function(e){return(0,f.jsx)(s.Jg,{disabled:!0,iconSize:18,value:1===e.value||0})}},{label:"",name:"action",width:80,cellRender:function(e){return(0,f.jsx)("div",{className:"flex gap-4",children:(0,f.jsx)("button",{type:"button",className:"edit-button",onClick:function(){return t=e.data,C(t),void E(!0);var t},children:"Edit"})})}}],J=function(){E(!1)};return(0,f.jsxs)("div",{children:[(0,f.jsx)(i.Table,{data:h,columns:D,allowColumnReordering:!1,loading:q,keyExpr:"Id",pager:!1,tableClass:"border-t max-h-[calc(100vh-135px)]",title:(0,f.jsx)("div",{className:"flex justify-between py-2 px-1",children:(0,f.jsxs)("div",{className:"flex items-center gap-1",children:[(0,f.jsx)("span",{className:"font-bold",children:h.length}),(0,f.jsx)("span",{className:" text-gray-400",children:"results"})]})})}),(0,f.jsx)(i.Modal,{open:V,onCancel:function(){return E(!1)},title:j?"Edit ".concat(m):"Add ".concat(m),children:(0,f.jsx)(i.Form,{form:I,fields:[{label:"Label",name:"Label",rules:[{required:!0,message:"Code is required"}],className:"col-span-12 mb-2"},{label:"Column Name",name:"ColumnName",rules:[{required:!0,message:"Code is required"}],className:"col-span-12 mb-2",inputprops:{disabled:!0}},{label:"Required",name:"FieldRequired",className:"col-span-12 mb-2",type:"check",inputprops:{}}],editData:j,onFinish:function(e){S(!0),(0,c.Z)({method:"put",url:"tas/profilefield",data:(0,a.Z)((0,a.Z)({},e),{},{FieldVisible:0,FieldReadOnly:0,RequestRequired:0,RequestVisible:0,Id:j.Id})}).then((function(e){z(),J()})).catch((function(e){})).then((function(){return S(!1)}))},children:(0,f.jsxs)("div",{className:"col-span-12 flex justify-end items-center gap-2",children:[(0,f.jsx)(i.Button,{type:"primary",onClick:function(){return I.submit()},loading:k,icon:(0,f.jsx)(d.Z,{}),children:"Save"}),(0,f.jsx)(i.Button,{onClick:J,disabled:k,children:"Cancel"})]})})})]})}}}]);