"use strict";(self.webpackChunkot_tas=self.webpackChunkot_tas||[]).push([[8932],{88932:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var l=a(74165),o=a(1413),s=a(15861),n=a(29439),r=a(56573),d=a(10658),c=a.n(d),i=a(47313),u=a(49432),p=a(58467),m=a(66277),x=function(e){return Intl.NumberFormat().format(e)},h=a(46417);var f=function(e){var t=e.data,a=void 0===t?null:t,l=(e.reportTotalValues,e.employeeWeekData,e.restprops,(0,i.useState)(null)),o=(0,n.Z)(l,2);return o[0],o[1],(0,p.s0)(),(0,h.jsxs)("div",{className:"bg-white rounded-ot shadow-md p-5 col-span-12",children:[(0,h.jsx)("div",{className:"mb-5 text-2xl font-bold",children:"Report"}),(0,h.jsxs)("div",{className:" grid grid-cols-12 gap-4",children:[(0,h.jsxs)("div",{className:"col-span-12 grid grid-cols-12 2xl:grid-cols-10 gap-4",children:[(0,h.jsxs)("div",{className:"col-span-12 lg:col-span-6 xl:col-span-4 2xl:col-span-2 border rounded-ot p-3 flex justify-between items-center",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"font-medium",children:"All Report Template"}),(0,h.jsx)("div",{className:"font-semibold text-xl",children:x(null===a||void 0===a?void 0:a.ALLReportTemplateCount)})]}),(0,h.jsx)("div",{className:"bg-[#FF8F4E] rounded-ot flex w-[50px] h-[50px] justify-center items-center",children:(0,h.jsx)(m.kk4,{style:{fontSize:"30px",color:"white"}})})]}),(0,h.jsxs)("div",{className:"col-span-12 lg:col-span-6 xl:col-span-4 2xl:col-span-2 border rounded-ot p-3 flex justify-between items-center",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"font-medium",children:"All Report Schedule"}),(0,h.jsx)("div",{className:"font-semibold text-xl",children:x(null===a||void 0===a?void 0:a.ALLReportScheduleCount)})]}),(0,h.jsx)("div",{className:"bg-[#FF8F4E] rounded-ot flex w-[50px] h-[50px] justify-center items-center",children:(0,h.jsx)(m.wUZ,{size:30,color:"white"})})]}),(0,h.jsxs)("div",{className:"col-span-12 lg:col-span-6 xl:col-span-4 2xl:col-span-2 border rounded-ot p-3 flex justify-between items-center",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"font-medium",children:"Active Report Template"}),(0,h.jsx)("div",{className:"font-semibold text-xl",children:x(null===a||void 0===a?void 0:a.ActiveReportTemplateCount)})]}),(0,h.jsx)("div",{className:"bg-[#FF8F4E] rounded-ot flex w-[50px] h-[50px] justify-center items-center",children:(0,h.jsx)(u.Z,{style:{fontSize:"25px",color:"white"}})})]}),(0,h.jsxs)("div",{className:"col-span-12 lg:col-span-6 xl:col-span-4 2xl:col-span-2 border rounded-ot p-3 flex justify-between items-center transition-all",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"font-medium",children:"Active Report Schedule"}),(0,h.jsx)("div",{className:"flex items-end gap-2 font-semibold text-xl",children:x(null===a||void 0===a?void 0:a.ActiveReportScheduleCount)})]}),(0,h.jsx)("div",{className:"bg-[#FF8F4E] rounded-ot flex w-[50px] h-[50px] justify-center items-center",children:(0,h.jsx)(m.tJc,{style:{fontSize:"30px",color:"white"}})})]}),(0,h.jsxs)("div",{className:"col-span-12 lg:col-span-6 xl:col-span-4 2xl:col-span-2 border rounded-ot p-3 flex justify-between items-center transition-all",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"font-medium",children:"Today Report Schedule"}),(0,h.jsx)("div",{className:"flex items-end gap-2 font-semibold text-xl",children:x(null===a||void 0===a?void 0:a.TodayReportScheduleCount)})]}),(0,h.jsx)("div",{className:"bg-[#FF8F4E] rounded-ot flex w-[50px] h-[50px] justify-center items-center",children:(0,h.jsx)(m.g65,{style:{fontSize:"30px"},color:"white"})})]})]}),(0,h.jsx)("div",{className:"col-span-12 grid grid-cols-12",children:(0,h.jsx)("div",{className:"col-span-12 ",children:(0,h.jsx)("div",{className:"my-5 font-bold",children:"Report Types"})})})]})]})},v=a(42614),j=a(2880),g=a(22891);var y=function(){var e=(0,i.useState)(!0),t=(0,n.Z)(e,2),a=t[0],d=t[1],u=(0,i.useState)(null),p=(0,n.Z)(u,2),m=(p[0],p[1]),y=(0,i.useState)(null),N=(0,n.Z)(y,2),S=N[0],b=N[1],C=(0,i.useState)([]),D=(0,n.Z)(C,2),k=(D[0],D[1]),w=(0,i.useState)([]),A=(0,n.Z)(w,2),M=A[0],F=A[1],T=(0,i.useState)(null),E=(0,n.Z)(T,2),Z=(E[0],E[1]),R=(0,i.useState)([]),O=(0,n.Z)(R,2),I=(O[0],O[1]),B=(0,i.useState)(null),W=(0,n.Z)(B,2),V=(W[0],W[1]),z=(0,i.useState)(null),L=(0,n.Z)(z,2),_=(L[0],L[1]),J=(0,i.useContext)(v.V).action;(0,i.useEffect)((function(){J.changeMenuKey("/report/dashboard"),K()}),[]);var K=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.k)({method:"get",url:"tasreport/reporttemplate/dashboard"}).then((function(e){var t,a=[],l=[],s=[];null===(t=e.data.ScheduleTypesData)||void 0===t||t.map((function(e,t){a.push({type:"Active",value:e.ActiveCount,reportType:e.ScheduleType}),a.push({type:"Deactive",value:e.AllCount-e.ActiveCount<0?0:e.AllCount-e.ActiveCount,reportType:e.ScheduleType}),l.push({type:"text",content:"".concat(x(e.AllCount)),position:[t,e.AllCount+.5],style:{textAlign:"center",fill:"#FF8F4E"},offsetY:-10})})),e.data.TemplateTypeData.map((function(e,t){s.push({value:e.AllCount,type:e.TemplateName,fillColor:["#7BCEEE","#FF8F4E","#63DAAB"][t]})})),b((0,o.Z)((0,o.Z)({},e.data),{},{ScheduleTypesData:a,TemplateTypeData:s})),m(e.data),k(a),F(l)})).catch((function(e){}));case 2:return e.next=4,(0,r.Z)({method:"get",url:"tas/dashboard/transport"}).then((function(e){var t,a,l=[];null===(t=e.data)||void 0===t||null===(a=t.SeatWeek)||void 0===a||a.map((function(e,t){l.push({name:"In Confirmed",value:e.InConfirmed,date:c()(e.date).format("MM-DD"),group:"In"}),l.push({name:"In EmloyeeCount",value:e.InEmloyeeCount,date:c()(e.date).format("MM-DD"),group:"In"}),l.push({name:"In OverBook",value:e.InOverBook,date:c()(e.date).format("MM-DD"),group:"In"}),l.push({name:"In SeatBlock",value:e.InSeatBlock,date:c()(e.date).format("MM-DD"),group:"In"}),l.push({name:"Out Confirmed",value:e.OutConfirmed,date:c()(e.date).format("MM-DD"),group:"Out"}),l.push({name:"Out EmloyeeCount",value:e.OutEmloyeeCount,date:c()(e.date).format("MM-DD"),group:"Out"}),l.push({name:"Out OverBook",value:e.OutOverBook,date:c()(e.date).format("MM-DD"),group:"Out"}),l.push({name:"Out SeatBlock",value:e.OutSeatBlock,date:c()(e.date).format("MM-DD"),group:"Out"})})),I(l),Z(e.data)})).catch((function(e){}));case 4:return e.next=6,(0,r.Z)({method:"get",url:"tas/dashboard/room"}).then((function(e){var t=[],a=[],l=[];e.data.ActiveRoomWeek.map((function(e){t.push({date:c()(e.date).format("MM-DD"),room:e.ActiveRoomCount})})),e.data.EmptyRoomWeek.map((function(e){a.push({date:c()(e.date).format("MM-DD"),room:e.EmptyRoomCount})})),e.data.VirtualRoomWeek.map((function(e){l.push({date:c()(e.date).format("MM-DD"),room:e.VirtualRoomEmployeeCount})})),_({ActiveWeek:t,EmptyWeek:a,VirtualWeek:l}),V(e.data)})).catch((function(e){})).then((function(){return d(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)("div",{className:"flex flex-col gap-5",children:a?(0,h.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,h.jsx)(j.Skeleton,{className:"h-[300px]"}),(0,h.jsx)(j.Skeleton,{className:"h-[300px]"}),(0,h.jsx)(j.Skeleton,{className:"h-[300px]"})]}):(0,h.jsxs)("div",{className:"flex gap-5",children:[(0,h.jsx)("div",{className:"flex-1 grid grid-cols-12 gap-5 items-start",children:(0,h.jsx)(f,{data:S,reportTotalValues:M})}),(0,h.jsx)("div",{className:"w-[300px] flex flex-col gap-5"})]})})}}}]);