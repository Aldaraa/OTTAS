"use strict";(self.webpackChunkot_tas=self.webpackChunkot_tas||[]).push([[638],{90638:function(e,t,n){n.r(t),n.d(t,{default:function(){return pe}});var o=n(1413),a=n(29439),r=n(11829),l=(n(43681),n(87462)),s=n(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 00-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"}}]},name:"home",theme:"filled"},c=n(17469),d=function(e,t){return s.createElement(c.Z,(0,l.Z)({},e,{ref:t,icon:i}))};var u=s.forwardRef(d),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M959 413.4L935.3 372a8 8 0 00-10.9-2.9l-50.7 29.6-78.3-216.2a63.9 63.9 0 00-60.9-44.4H301.2c-34.7 0-65.5 22.4-76.2 55.5l-74.6 205.2-50.8-29.6a8 8 0 00-10.9 2.9L65 413.4c-2.2 3.8-.9 8.6 2.9 10.8l60.4 35.2-14.5 40c-1.2 3.2-1.8 6.6-1.8 10v348.2c0 15.7 11.8 28.4 26.3 28.4h67.6c12.3 0 23-9.3 25.6-22.3l7.7-37.7h545.6l7.7 37.7c2.7 13 13.3 22.3 25.6 22.3h67.6c14.5 0 26.3-12.7 26.3-28.4V509.4c0-3.4-.6-6.8-1.8-10l-14.5-40 60.3-35.2a8 8 0 003-10.8zM264 621c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm388 75c0 4.4-3.6 8-8 8H380c-4.4 0-8-3.6-8-8v-84c0-4.4 3.6-8 8-8h40c4.4 0 8 3.6 8 8v36h168v-36c0-4.4 3.6-8 8-8h40c4.4 0 8 3.6 8 8v84zm108-75c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zM220 418l72.7-199.9.5-1.3.4-1.3c1.1-3.3 4.1-5.5 7.6-5.5h427.6l75.4 208H220z"}}]},name:"car",theme:"filled"},p=function(e,t){return s.createElement(c.Z,(0,l.Z)({},e,{ref:t,icon:m}))};var f=s.forwardRef(p),v=n(98315),h=n(65040),x=n(12998),g=n(76298),b=n(74294),j=n(4942),D=n(99649),C=n(38925),y=n(85403),Z=n(72884),w=n.n(Z),N=n(4573),I=n(19990),S=n(16945),M=n(48138),E=n(74714),Y=n(95263),R=n(40601),k=n(58973),O=function(e,t,n,o,a){return(0,j.Z)({background:e,border:"".concat((0,Y.bf)(o.lineWidth)," ").concat(o.lineType," ").concat(t)},"".concat(a,"-icon"),{color:n})},P=function(e){var t,n,o,a=e.componentCls,r=e.motionDurationSlow,l=e.marginXS,s=e.marginSM,i=e.fontSize,c=e.fontSizeLG,d=e.lineHeight,u=e.borderRadiusLG,m=e.motionEaseInOutCirc,p=e.withDescriptionIconSize,f=e.colorText,v=e.colorTextHeading,h=e.withDescriptionPadding,x=e.defaultPadding;return o={},(0,j.Z)(o,a,Object.assign(Object.assign({},(0,R.Wf)(e)),(t={position:"relative",display:"flex",alignItems:"center",padding:x,wordWrap:"break-word",borderRadius:u},(0,j.Z)(t,"&".concat(a,"-rtl"),{direction:"rtl"}),(0,j.Z)(t,"".concat(a,"-content"),{flex:1,minWidth:0}),(0,j.Z)(t,"".concat(a,"-icon"),{marginInlineEnd:l,lineHeight:0}),(0,j.Z)(t,"&-description",{display:"none",fontSize:i,lineHeight:d}),(0,j.Z)(t,"&-message",{color:v}),(0,j.Z)(t,"&".concat(a,"-motion-leave"),{overflow:"hidden",opacity:1,transition:"max-height ".concat(r," ").concat(m,", opacity ").concat(r," ").concat(m,",\n        padding-top ").concat(r," ").concat(m,", padding-bottom ").concat(r," ").concat(m,",\n        margin-bottom ").concat(r," ").concat(m)}),(0,j.Z)(t,"&".concat(a,"-motion-leave-active"),{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}),t))),(0,j.Z)(o,"".concat(a,"-with-description"),(n={alignItems:"flex-start",padding:h},(0,j.Z)(n,"".concat(a,"-icon"),{marginInlineEnd:s,fontSize:p,lineHeight:0}),(0,j.Z)(n,"".concat(a,"-message"),{display:"block",marginBottom:l,color:v,fontSize:c}),(0,j.Z)(n,"".concat(a,"-description"),{display:"block",color:f}),n)),(0,j.Z)(o,"".concat(a,"-banner"),{marginBottom:0,border:"0 !important",borderRadius:0}),o},T=function(e){var t=e.componentCls,n=e.colorSuccess,o=e.colorSuccessBorder,a=e.colorSuccessBg,r=e.colorWarning,l=e.colorWarningBorder,s=e.colorWarningBg,i=e.colorError,c=e.colorErrorBorder,d=e.colorErrorBg,u=e.colorInfo,m=e.colorInfoBorder,p=e.colorInfoBg;return(0,j.Z)({},t,{"&-success":O(a,o,n,e,t),"&-info":O(p,m,u,e,t),"&-warning":O(s,l,r,e,t),"&-error":Object.assign(Object.assign({},O(d,c,i,e,t)),(0,j.Z)({},"".concat(t,"-description > pre"),{margin:0,padding:0}))})},B=function(e){var t,n=e.componentCls,o=e.iconCls,a=e.motionDurationMid,r=e.marginXS,l=e.fontSizeIcon,s=e.colorIcon,i=e.colorIconHover;return(0,j.Z)({},n,(t={"&-action":{marginInlineStart:r}},(0,j.Z)(t,"".concat(n,"-close-icon"),(0,j.Z)({marginInlineStart:r,padding:0,overflow:"hidden",fontSize:l,lineHeight:(0,Y.bf)(l),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer"},"".concat(o,"-close"),{color:s,transition:"color ".concat(a),"&:hover":{color:i}})),(0,j.Z)(t,"&-close-text",{color:s,transition:"color ".concat(a),"&:hover":{color:i}}),t))},z=(0,k.I$)("Alert",(function(e){return[P(e),T(e),B(e)]}),(function(e){return{withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:"".concat(e.paddingContentVerticalSM,"px ").concat(12,"px"),withDescriptionPadding:"".concat(e.paddingMD,"px ").concat(e.paddingContentHorizontalLG,"px")}})),H=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},L={success:D.Z,info:y.Z,error:v.Z,warning:C.Z},q=function(e){var t=e.icon,n=e.prefixCls,o=e.type,a=L[o]||null;return t?(0,M.wm)(t,s.createElement("span",{className:"".concat(n,"-icon")},t),(function(){return{className:w()("".concat(n,"-icon"),(0,j.Z)({},t.props.className,t.props.className))}})):s.createElement(a,{className:"".concat(n,"-icon")})},F=function(e){var t=e.isClosable,n=e.prefixCls,o=e.closeIcon,a=e.handleClose,l=e.ariaProps,i=!0===o||void 0===o?s.createElement(r.Z,null):o;return t?s.createElement("button",Object.assign({type:"button",onClick:a,className:"".concat(n,"-close-icon"),tabIndex:0},l),i):null},V=s.forwardRef((function(e,t){var n,o=e.description,r=e.prefixCls,l=e.message,i=e.banner,c=e.className,d=e.rootClassName,u=e.style,m=e.onMouseEnter,p=e.onMouseLeave,f=e.onClick,v=e.afterClose,h=e.showIcon,x=e.closable,g=e.closeText,b=e.closeIcon,D=e.action,C=e.id,y=H(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),Z=s.useState(!1),M=(0,a.Z)(Z,2),Y=M[0],R=M[1],k=s.useRef(null);s.useImperativeHandle(t,(function(){return{nativeElement:k.current}}));var O=s.useContext(E.E_),P=O.getPrefixCls,T=O.direction,B=O.alert,L=P("alert",r),V=z(L),W=(0,a.Z)(V,3),G=W[0],A=W[1],_=W[2],U=function(t){var n;R(!0),null===(n=e.onClose)||void 0===n||n.call(e,t)},X=s.useMemo((function(){return void 0!==e.type?e.type:i?"warning":"info"}),[e.type,i]),Q=s.useMemo((function(){return!("object"!==typeof x||!x.closeIcon)||(!!g||("boolean"===typeof x?x:!1!==b&&null!==b&&void 0!==b||!!(null===B||void 0===B?void 0:B.closable)))}),[g,b,x,null===B||void 0===B?void 0:B.closable]),$=!(!i||void 0!==h)||h,J=w()(L,"".concat(L,"-").concat(X),(n={},(0,j.Z)(n,"".concat(L,"-with-description"),!!o),(0,j.Z)(n,"".concat(L,"-no-icon"),!$),(0,j.Z)(n,"".concat(L,"-banner"),!!i),(0,j.Z)(n,"".concat(L,"-rtl"),"rtl"===T),n),null===B||void 0===B?void 0:B.className,c,d,_,A),K=(0,I.Z)(y,{aria:!0,data:!0}),ee=s.useMemo((function(){var e,t;return"object"===typeof x&&x.closeIcon?x.closeIcon:g||(void 0!==b?b:"object"===typeof(null===B||void 0===B?void 0:B.closable)&&(null===(e=null===B||void 0===B?void 0:B.closable)||void 0===e?void 0:e.closeIcon)?null===(t=null===B||void 0===B?void 0:B.closable)||void 0===t?void 0:t.closeIcon:null===B||void 0===B?void 0:B.closeIcon)}),[b,x,g,null===B||void 0===B?void 0:B.closeIcon]),te=s.useMemo((function(){var e=null!==x&&void 0!==x?x:null===B||void 0===B?void 0:B.closable;if("object"===typeof e){e.closeIcon;return H(e,["closeIcon"])}return{}}),[x,null===B||void 0===B?void 0:B.closable]);return G(s.createElement(N.ZP,{visible:!Y,motionName:"".concat(L,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:v},(function(t,n){var a=t.className,r=t.style;return s.createElement("div",Object.assign({id:C,ref:(0,S.sQ)(k,n),"data-show":!Y,className:w()(J,a),style:Object.assign(Object.assign(Object.assign({},null===B||void 0===B?void 0:B.style),u),r),onMouseEnter:m,onMouseLeave:p,onClick:f,role:"alert"},K),$?s.createElement(q,{description:o,icon:e.icon,prefixCls:L,type:X}):null,s.createElement("div",{className:"".concat(L,"-content")},l?s.createElement("div",{className:"".concat(L,"-message")},l):null,o?s.createElement("div",{className:"".concat(L,"-description")},o):null),D?s.createElement("div",{className:"".concat(L,"-action")},D):null,s.createElement(F,{isClosable:Q,prefixCls:L,closeIcon:ee,handleClose:U,ariaProps:te}))})))}));var W=V,G=n(15671),A=n(43144),_=n(61120),U=n(78814),X=n(82963);var Q=n(60136),$=function(e){function t(){var e,n,o,a;return(0,G.Z)(this,t),n=this,o=t,a=arguments,o=(0,_.Z)(o),(e=(0,X.Z)(n,(0,U.Z)()?Reflect.construct(o,a||[],(0,_.Z)(n).constructor):o.apply(n,a))).state={error:void 0,info:{componentStack:""}},e}return(0,Q.Z)(t,e),(0,A.Z)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,o=e.id,a=e.children,r=this.state,l=r.error,i=r.info,c=(null===i||void 0===i?void 0:i.componentStack)||null,d="undefined"===typeof t?(l||"").toString():t,u="undefined"===typeof n?c:n;return l?s.createElement(W,{id:o,type:"error",message:d,description:s.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},u)}):a}}])}(s.Component),J=$,K=W;K.ErrorBoundary=J;var ee=K,te=n(56573),ne=n(2880),oe=n(58467),ae=n(58821),re=n(42614),le=n(10658),se=n.n(le),ie=n(165),ce=n(76629),de=n(46417),ue="YYYY-MM-DD",me=function(e){var t=e.data,n=void 0===t?[]:t,o=[{label:"Date",name:"EventDate",cellRender:function(e){return(0,de.jsx)("span",{children:se()(e.value).format("YYYY-MM-DD")})}},{label:"TransportCode",name:"TransportCode"},{label:"TransportMode",name:"TransportMode"},{label:"Direction",name:"Direction"},{label:"Shift",name:"ShiftCode",width:50,cellRender:function(e){return(0,de.jsx)("div",{className:"text-center rounded ",style:{background:e.data.ShiftColorCode,color:(0,ie.Z)(e.data.ShiftColorCode)>60?"black":"white"},children:e.value})}},{label:"Description",name:"Description"},{label:"Seats",name:"Seats"},{label:"Available seats",name:"Confirmed",cellRender:function(e){var t=e.data,n=t.Seats-t.Confirmed-t.OverBooked;return(0,de.jsx)("div",{className:n<=0?"text-red-400":"text-green-400",children:n})}}];return(0,de.jsx)(ne.Table,{data:n,columns:o,containerClass:"shadow-none p-0 border overflow-hidden",tableClass:"max-h-[600px]"})};var pe=function(e){e.data;var t,n,r,l,i,c,d,m=(0,s.useState)(null),p=(0,a.Z)(m,2),j=p[0],D=p[1],C=(0,s.useState)(!1),y=(0,a.Z)(C,2),Z=y[0],w=y[1],N=(0,s.useState)(!1),I=(0,a.Z)(N,2),S=I[0],M=I[1],E=(0,s.useState)(null),Y=(0,a.Z)(E,2),R=Y[0],k=Y[1],O=(0,s.useState)([]),P=(0,a.Z)(O,2),T=P[0],B=P[1],z=(0,s.useState)(!1),H=(0,a.Z)(z,2),L=H[0],q=H[1],F=(0,s.useState)(!1),V=(0,a.Z)(F,2),W=V[0],G=V[1],A=(0,s.useState)(!1),_=(0,a.Z)(A,2),U=_[0],X=_[1],Q=(0,s.useState)(!1),$=(0,a.Z)(Q,2),J=$[0],K=$[1],le=(0,s.useState)([]),pe=(0,a.Z)(le,2),fe=pe[0],ve=pe[1],he=(0,oe.UO)().employeeId,xe=(0,s.useContext)(re.V),ge=xe.state,be=xe.action,je=h.Z.useForm(),De=(0,a.Z)(je,1)[0],Ce=x.ZP.useNotification(),ye=(0,a.Z)(Ce,2),Ze=ye[0],we=ye[1];(0,s.useEffect)((function(){ce.Z.set("pp_rt","rosterexecute")}),[]),(0,s.useEffect)((function(){De.setFieldsValue((0,o.Z)((0,o.Z)({},ge.userProfileData),{},{RoomId:""}))}),[ge.userProfileData]);var Ne=function(){De.getFieldValue("startDate")&&De.getFieldValue("monthDuration")&&setTimeout((function(){(0,te.Z)({method:"get",url:"tas/employeestatus/annualyear/".concat(he,"/").concat(se()(De.getFieldValue("startDate")).format("YYYY-MM-DD"),"/").concat(De.getFieldValue("monthDuration"))}).then((function(e){B(e.data)})).catch((function(e){}))}),[])},Ie=[{type:"component",component:(0,de.jsx)(ne.Form.Item,{label:"Start Date",name:"startDate",className:"col-span-12 mb-2",rules:[{required:!0,message:"Start Date is required"}],children:(0,de.jsx)(ne.DatePicker,{onChange:Ne,allowClear:!1,showWeek:!0})})},{type:"component",component:(0,de.jsx)(ne.Form.Item,{label:"Roster Duration (months)",name:"monthDuration",className:"col-span-12 mb-2",rules:[{required:!0,message:"Roster Duration is required"}],children:(0,de.jsx)(g.Z,{controls:!1,onChange:Ne,min:1,max:18})})},{label:"Roster ",name:"RosterId",className:"col-span-12 mb-2",type:"select",rules:[{required:!0,message:"Roster is required"}],inputprops:{options:null===(t=ge.referData)||void 0===t?void 0:t.rosters,allowClear:!1}},{label:"Department",name:"DepartmentId",className:"col-span-12 mb-2",type:"treeSelect",rules:[{required:!0,message:"Department is required"}],inputprops:{treeData:null===(n=ge.referData)||void 0===n?void 0:n.departments,fieldNames:{label:"Name",value:"Id",children:"ChildDepartments"},allowClear:!0,showSearch:!0,filterTreeNode:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.Name)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}}},{label:"Position",name:"PositionId",className:"col-span-12 mb-2",type:"select",rules:[{required:!0,message:"Position is required"}],inputprops:{options:null===(r=ge.referData)||void 0===r?void 0:r.positions,allowClear:!0}},{type:"component",component:(0,de.jsx)(ne.Form.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.DepartmentId!==t.DepartmentId},children:function(e){var t,n=e.getFieldValue,o=e.setFieldValue,a=null===(t=ge.referData.departments)||void 0===t?void 0:t.find((function(e){return e.Id===n("DepartmentId")}));return a&&a.CostCodeId&&o("CostCodeId",a.CostCodeId),(0,de.jsx)(ne.Form.Item,{name:"CostCodeId",label:"CostCodeId",rules:[{required:!0,message:"Cost Code is required"}],className:"col-span-12 mb-2",children:(0,de.jsx)(b.Z,{options:ge.referData.costCodes,allowClear:!0,showSearch:!0,filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())}})})}})},{label:"Employer",name:"EmployerId",className:"col-span-12 mb-2",rules:[{required:!0,message:"Employer is required"}],type:"select",inputprops:{options:null===(l=ge.referData)||void 0===l?void 0:l.employers,allowClear:!1}},{label:"Transport Group",name:"FlightGroupMasterId",className:"col-span-12 mb-2",rules:[{required:!0,message:"Transport Group is required"}],type:"select",inputprops:{options:null===(i=ge.referData)||void 0===i?void 0:i.transportGroups,allowClear:!1}}],Se=function(e){X(!0),(0,te.Z)({method:"post",url:"tas/employee/rosterexecute",data:(0,o.Z)((0,o.Z)({},e),{},{startDate:e.startDate?se()(e.startDate).format("YYYY-MM-DD"):null,confirmed:!0,employeeId:parseInt(he)})}).then((function(e){ve(e.data),M(!1),w(!1),K(!0)})).catch((function(e){Ze.error({message:"Warning",description:e.response.data.message})})).then((function(){return X(!1)}))},Me=[{label:"Shift",name:"ShiftCode",width:"50px",cellRender:function(e){return(0,de.jsx)("span",{className:"px-1 rounded",style:{background:e.data.Color,color:(0,ie.Z)(e.data.Color)>60?"black":"white"},children:e.value})}},{label:"Description",name:"Description"},{label:"Date",name:"EvenDate",cellRender:function(e){return(0,de.jsx)("div",{children:se()(e.value).format("YYYY-MM-DD")})}}];return(0,de.jsxs)("div",{className:"bg-white rounded-ot p-4 col-span-12 shadow-md",children:[(0,de.jsxs)("div",{className:"flex gap-5",children:[(0,de.jsxs)("div",{className:"lg:w-2/3 ",children:[(0,de.jsx)(ne.Form,{form:De,fields:Ie,initValues:(0,o.Z)((0,o.Z)({},ge.userProfileData),{},{RoomId:"",startDate:se()()}),onFinish:function(e){q(e.startDate),k(e),w(!0),(0,te.Z)({method:"post",url:"tas/employee/rosterexecutepreview",data:(0,o.Z)((0,o.Z)({},e),{},{startDate:e.startDate?se()(e.startDate).format("YYYY-MM-DD"):null,employeeId:parseInt(he)})}).then((function(t){D(t.data),t.data.OnsiteData?(G(t.data.OnsiteData),M(!0),w(!1)):Se(e)})).catch((function(e){})).then((function(){w(!1)}))},wrapperCol:{flex:"500px"},labelCol:{flex:"200px"}}),(0,de.jsx)("div",{className:"flex gap-4 mt-5",children:null!==(c=ge.userInfo)&&void 0!==c&&c.ReadonlyAccess?null:(0,de.jsx)(ne.Button,{type:"primary",onClick:function(){return De.submit()},loading:Z,children:"Roster"})})]}),T.length>0&&(0,de.jsx)("div",{className:"flex-1",children:(0,de.jsx)(ne.Table,{data:T,columns:Me,containerClass:"shadow-none border",tableClass:"border-t",pager:T.length>20,title:(0,de.jsx)("div",{className:"py-1 font-bold",children:"Future Annual Leave"})})})]}),(0,de.jsx)(ne.Modal,{title:"Roster Preview",open:S,onCancel:function(){return M(!1)},bodyStyle:{marginTop:"20px"},width:1e3,children:(0,de.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,de.jsx)(ee,{message:(0,de.jsxs)("div",{className:"text-sm font-medium",children:["There are ",null===j||void 0===j||null===(d=j.EmployeeOffSiteStatus)||void 0===d?void 0:d.length," warning(s)"]}),type:"warning",showIcon:!0,description:(0,de.jsx)("div",{className:"text-xs",children:"The person is already off site for the date supplied"}),className:"p-2"}),(0,de.jsxs)("div",{className:"border rounded-ot flex justify-between px-5 py-2",children:[(0,de.jsxs)("div",{children:[(0,de.jsx)("div",{children:"Roster booking"}),(0,de.jsxs)("div",{className:"text-success",children:[(0,de.jsx)(u,{})," ",(0,de.jsx)(f,{})]})]}),(0,de.jsxs)("div",{children:[(0,de.jsx)("div",{children:"Roster preview warning/error"}),(0,de.jsxs)("div",{className:"text-red-500",children:[(0,de.jsx)(u,{})," ",(0,de.jsx)(f,{})]})]}),(0,de.jsxs)("div",{children:[(0,de.jsx)("div",{children:"Roster preview"}),(0,de.jsxs)("div",{className:"text-blue-500",children:[(0,de.jsx)(u,{})," ",(0,de.jsx)(f,{})]})]})]}),(0,de.jsx)("div",{className:"grid grid-cols-12",children:(0,de.jsx)(ne.Calendar,{containerClass:"shadow-none",headerClass:"px-0",currentDate:L,onChange:function(e){return q(se()(e).startOf("M").format("YYYY-MM-DD"))},cellRender:function(e,t){var n,o,a=null===(n=t.newStatusDates)||void 0===n?void 0:n.find((function(t){return se()(t.EventDate).format(ue)===se()(e).format(ue)})),r=null===(o=t.oldStatusDates)||void 0===o?void 0:o.find((function(t){return se()(t.EventDate).format(ue)===se()(e).format(ue)}));return(0,de.jsxs)("div",{className:"w-full",children:[(0,de.jsx)("div",{className:"w-full flex justify-between",children:(0,de.jsx)("div",{className:"text-start",children:se()(e).format("DD")})}),(0,de.jsxs)("div",{className:"flex items-center justify-between leading-none min-h-[22px]",children:[r?(0,de.jsxs)("div",{className:"flex items-center gap-1 rounded-full bg-blue-200 px-1 text-xs",children:[(null===r||void 0===r?void 0:r.Direction)&&(0,de.jsx)("div",{className:"text-blue-500 pl-1",children:"IN"===(null===a||void 0===a?void 0:a.Direction)?(0,de.jsx)(ae.dm9,{style:{transform:"rotate(135deg)"}}):(0,de.jsx)(ae.dm9,{style:{transform:"rotate(45deg)"}})}),(null===r||void 0===r?void 0:r.ShiftCode)&&(0,de.jsx)("div",{style:{},className:"rounded-full p-1 flex justify-center items-center",children:null===r||void 0===r?void 0:r.ShiftCode})]}):(0,de.jsx)("div",{}),a?(0,de.jsxs)("div",{className:"flex items-center gap-1 rounded-full px-1 bg-green-200 text-xs",children:[(null===a||void 0===a?void 0:a.Direction)&&(0,de.jsx)("div",{className:"text-success pl-1",children:(null===a||void 0===a||a.Direction,(0,de.jsx)(ae.dm9,{style:{transform:"rotate(135deg)"}}))}),(null===a||void 0===a?void 0:a.ShiftCode)&&(0,de.jsx)("div",{className:"rounded-full p-1 flex justify-center items-center",children:null===a||void 0===a?void 0:a.ShiftCode})]}):(0,de.jsx)("div",{})]})]})},data:j})}),W?(0,de.jsxs)("div",{className:"bg-[#fff3f1] border border-red-300 rounded-ot px-5 py-2 max-w-[400px] mx-auto",children:[(0,de.jsxs)("div",{className:"font-bold flex items-center gap-3",children:[(0,de.jsx)(v.Z,{color:"red",className:"text-[24px] text-red-500"}),(0,de.jsx)("span",{children:"Roster start date is onsite"})]}),(0,de.jsxs)("div",{className:"flex gap-2 ml-9",children:[(0,de.jsx)("div",{children:se()(W.InTransportDate).format("YYYY-MM-DD")}),"\u2014",(0,de.jsx)("div",{children:se()(W.OutTransportDate).format("YYYY-MM-DD")}),"(On site)"]}),(0,de.jsxs)("div",{className:"flex flex-col items-center",children:[(0,de.jsx)("div",{className:"text-center mt-3",children:"Do you want to delete this record ?"}),(0,de.jsx)(ne.Button,{type:"danger",onClick:function(){X(!0),(0,te.Z)({method:"delete",url:"tas/employee/deletetransport/".concat(he,"/").concat(se()(W.EventDate).format("YYYY-MM-DD"))}).then((function(){G(null)})).catch((function(e){})).then((function(){return X(!1)}))},loading:U,children:"Delete"})]})]}):(0,de.jsx)("div",{className:"m-footer mt-4",children:(0,de.jsx)(ne.Button,{type:"primary",onClick:function(){return Se(R)},loading:U,children:"Confirm"})})]})}),(0,de.jsx)(ne.Modal,{open:J,onCancel:function(){K(!1),(0,te.Z)({method:"get",url:"tas/employee/".concat(he)}).then((function(e){be.saveUserProfileData(e.data)})).catch((function(e){}))},title:"Roster response",width:900,children:(0,de.jsx)(me,{data:fe})}),we]})}}}]);